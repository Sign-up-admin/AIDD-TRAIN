# Chrome浏览器测试执行指南

**当前状态**: ✅ 所有服务已启动并运行正常

## 快速开始

### 1. 打开Chrome浏览器
访问: **http://localhost:8501**

### 2. 打开开发者工具
- 按 `F12` 或右键页面选择"检查"
- 确保开发者工具窗口可见

### 3. 配置开发者工具

#### Network标签页设置
1. 切换到 **Network** 标签页
2. **重要**: 勾选 **"Preserve log"**（保留日志）
3. 清空之前的请求记录（点击清除按钮）
4. 在过滤框中输入 `/api/v1/training/tasks` 来过滤相关请求

#### Console标签页设置
1. 切换到 **Console** 标签页
2. 确保显示所有级别的日志（Verbose、Info、Warnings、Errors）
3. 清空之前的日志（点击清除按钮）

## 测试步骤

### 测试1: 主页功能测试

**目标**: 验证页面基本功能正常

**步骤**:
1. 检查页面是否正常加载
2. 测试侧边栏导航按钮：
   - 点击"主页"
   - 点击"准备配体"
   - 点击"口袋预测"
   - 点击"分子对接"
   - 点击"数据管理"
   - 点击"服务监控"
   - 点击"训练管理"

**检查点**:
- ✅ 页面切换是否流畅
- ✅ Console是否有JavaScript错误（红色错误）
- ✅ Network是否有失败的请求

**预期结果**: 所有页面正常切换，无错误

---

### 测试2: 训练管理 - 创建任务

**目标**: 验证创建训练任务功能

**步骤**:
1. 点击侧边栏"训练管理"
2. 切换到"创建训练任务"标签页
3. 填写任务配置：
   - 执行模式: `smoke_test`
   - 训练轮数: `10`
   - 批次大小: `2`
   - 学习率: `0.001`
   - 优化器: `adam`
4. 点击"创建训练任务"按钮

**Network标签页观察**:
- ✅ 查找 POST 请求到 `/api/v1/training/tasks`
- ✅ 检查响应状态码（应该是 **201**）
- ✅ 检查响应内容，记录返回的 `task_id`

**Console标签页观察**:
- ✅ 是否有JavaScript错误
- ✅ 是否有警告信息

**页面显示检查**:
- ✅ 是否显示"训练任务创建成功！"
- ✅ 是否显示任务ID和状态
- ✅ 是否显示"快速操作"按钮

**预期结果**: 任务创建成功，返回201状态码，显示任务ID

---

### 测试3: 训练管理 - 启动任务

**目标**: 验证启动任务功能

**步骤**:
1. 在"任务列表"标签页中找到刚创建的任务
2. 点击"启动任务"按钮

**Network标签页观察**:
- ✅ 查找 POST 请求到 `/api/v1/training/tasks/{task_id}/start`
- ✅ 检查响应状态码（应该是 **200**）
- ✅ 检查响应时间（应该在2秒内）

**Console标签页观察**:
- ✅ 是否有JavaScript错误
- ✅ 是否有WebSocket连接相关的日志

**页面显示检查**:
- ✅ 是否显示"任务已启动"
- ✅ 任务状态是否更新为"running"或"initializing"

**预期结果**: 任务启动成功，状态更新为running/initializing

---

### 测试4: 训练管理 - 停止任务（重点测试）

**目标**: 验证停止任务功能，这是重点测试项

**准备工作**:
1. 确保任务状态为"running"或"initializing"
2. 在Network标签页中：
   - 确保已勾选"Preserve log"
   - 清空之前的请求记录
   - 准备监控停止请求
3. 在Console标签页中：
   - 清空之前的日志
   - 准备观察错误信息

**执行停止操作**:
1. 点击"停止任务"按钮

**立即观察Network标签页**:
查找 POST 请求到 `/api/v1/training/tasks/{task_id}/stop`

**关键检查点**:

1. **请求是否发送成功？**
   - ✅ 如果请求未出现，说明前端JavaScript可能出错
   - ✅ 检查Console标签页是否有错误

2. **请求状态码是什么？**
   - ✅ `200`: 请求成功，后端已处理
   - ✅ `400`: 请求失败，可能是任务状态错误
   - ✅ `404`: 任务不存在
   - ✅ `500`: 服务器内部错误
   - ✅ `pending`/`超时`: 请求未完成，可能后端阻塞

3. **响应时间是多少？**
   - ✅ 如果超过10秒，说明后端可能阻塞
   - ✅ 正常应该在2秒内返回

4. **响应内容是什么？**
   - ✅ 成功响应应该包含 `{"message": "...", "task_id": "..."}`
   - ✅ 错误响应应该包含详细的错误信息

5. **请求详情**:
   - ✅ 点击请求，查看 **Headers** 标签页
   - ✅ 查看 **Payload** 标签页（如果有）
   - ✅ 查看 **Response** 标签页
   - ✅ 查看 **Timing** 标签页（了解请求各阶段耗时）

**观察Console标签页**:
- ✅ 是否有JavaScript错误？（红色错误信息）
- ✅ 是否有网络错误？（CORS错误、连接超时错误）
- ✅ 是否有WebSocket错误？（WebSocket连接失败、消息错误）

**观察页面显示**:
- ✅ 是否显示"正在停止任务..."加载状态？
- ✅ 是否显示成功消息或错误消息？
- ✅ 错误消息是否可见？（不应该隐藏在collapsed的expander中）
- ✅ 任务状态是否更新？（检查是否从"running"变为"cancelled"）

**预期结果**: 
- 请求成功发送，返回200状态码
- 响应时间在2秒内
- 页面显示成功消息
- 任务状态更新为"cancelled"

---

### 测试5: WebSocket终端显示

**目标**: 验证WebSocket终端功能

**前提条件**:
- 任务状态必须为"running"或"initializing"

**步骤**:
1. 在"任务详情"标签页中输入任务ID
2. 确保任务状态为"running"或"initializing"
3. 观察终端显示区域

**Network标签页观察**:
- ✅ 查找WebSocket连接（状态码 **101**）
- ✅ 检查WebSocket URL是否正确：`ws://localhost:8080/api/v1/training/tasks/{task_id}/stream`
- ✅ 检查WebSocket连接状态（应该是"101 Switching Protocols"）

**Console标签页观察**:
- ✅ 是否有WebSocket连接错误？
- ✅ 是否有WebSocket消息错误？

**页面显示检查**:
- ✅ 终端是否显示？（只在running/initializing状态显示）
- ✅ 终端内容是否正常显示？
- ✅ 资源监控（CPU、内存、GPU、存储）是否显示？
- ✅ 连接状态指示器是否显示？

**预期结果**: 
- WebSocket连接成功建立（状态码101）
- 终端正常显示任务输出
- 资源监控数据正常更新

---

### 测试6: 数据管理页面

**目标**: 验证数据管理功能

**步骤**:
1. 点击侧边栏"数据管理"
2. 测试数据上传功能（如果有）
3. 检查数据列表显示
4. 测试数据删除功能（如果有）

**检查点**:
- ✅ 页面是否正常加载
- ✅ 数据列表是否正常显示
- ✅ Console是否有错误

**预期结果**: 数据管理页面正常显示

---

### 测试7: 服务监控页面

**目标**: 验证服务监控功能

**步骤**:
1. 点击侧边栏"服务监控"
2. 检查服务状态显示
3. 检查服务发现功能
4. 检查负载均衡显示

**检查点**:
- ✅ 服务状态是否正常显示
- ✅ COMPASS服务是否显示为"healthy"
- ✅ 服务注册中心是否正常
- ✅ Console是否有错误

**预期结果**: 服务监控页面正常显示，服务状态正确

---

## 问题记录模板

如果发现问题，请记录以下信息：

### 问题描述
- **问题类型**: [ ] JavaScript错误 [ ] 网络错误 [ ] UI显示问题 [ ] 功能异常
- **发生位置**: 
- **复现步骤**: 
- **预期行为**: 
- **实际行为**: 

### Network信息
- **请求URL**: 
- **请求方法**: 
- **状态码**: 
- **响应时间**: 
- **请求头**: 
- **响应内容**: 

### Console信息
- **错误消息**: 
- **错误堆栈**: 
- **警告信息**: 

### 页面显示
- **错误消息是否可见**: 
- **加载状态是否正确**: 
- **UI元素是否正常**: 

---

## 测试检查清单

### 基本功能
- [ ] 主页加载正常
- [ ] 页面导航切换正常
- [ ] 无JavaScript错误

### 训练管理
- [ ] 创建任务功能正常
- [ ] 启动任务功能正常
- [ ] 停止任务功能正常（重点）
- [ ] 任务状态更新及时
- [ ] WebSocket终端显示正常
- [ ] 错误消息正确显示

### 数据管理
- [ ] 数据列表显示正常
- [ ] 数据上传功能正常（如果有）
- [ ] 数据删除功能正常（如果有）

### 服务监控
- [ ] 服务状态显示正常
- [ ] 服务发现功能正常
- [ ] 负载均衡显示正常

---

## 测试完成后

1. **记录所有发现的问题**
2. **截图保存错误信息**（Network和Console）
3. **验证修复的bug是否已解决**
4. **检查是否有新的问题出现**

---

## 相关文档

- `CHROME_DEBUG_GUIDE.md`: 详细的调试指南
- `FLASHDOCK_CHROME_DEBUG_REPORT.md`: 调试报告
- `TERMINAL_TROUBLESHOOTING.md`: 终端显示问题排查

---

**当前服务状态**:
- ✅ 服务注册中心: http://localhost:8500
- ✅ COMPASS服务: http://localhost:8080
- ✅ FLASH-DOCK前端: http://localhost:8501

**可以开始测试了！** 🚀








