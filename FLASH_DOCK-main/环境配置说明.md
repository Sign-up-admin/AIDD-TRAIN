# Flash_Dock ç¯å¢ƒé…ç½®è¯´æ˜

## âœ… å·²å®Œæˆ

### 1. Condaç¯å¢ƒåˆ›å»º
- âœ… ç¯å¢ƒåç§°ï¼š`flash_dock`
- âœ… Pythonç‰ˆæœ¬ï¼š3.8.20
- âœ… ç¯å¢ƒè·¯å¾„ï¼š`C:\ProgramData\Anaconda3\envs\flash_dock`
- âœ… Condaå‘½ä»¤å·²å¯ç”¨ï¼ˆç‰ˆæœ¬ï¼š25.5.1ï¼‰

## ğŸ“‹ å½“å‰ç¯å¢ƒåˆ—è¡¨

```
base                   C:\ProgramData\Anaconda3
AIDD                   C:\ProgramData\Anaconda3\envs\AIDD
AIDDTRAIN              C:\ProgramData\Anaconda3\envs\AIDDTRAIN
flash_dock             C:\ProgramData\Anaconda3\envs\flash_dock  â† æ–°åˆ›å»º
```

## ğŸ”§ ä¸‹ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–

### æ–¹æ³•1ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆæ¨èï¼‰

ç›´æ¥è¿è¡Œ `install_dependencies.bat` è„šæœ¬ï¼š

```bash
# åŒå‡»è¿è¡Œæˆ–åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ
install_dependencies.bat
```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨å®‰è£…

#### æ¿€æ´»ç¯å¢ƒ
```bash
# å¦‚æœcondaå·²æ·»åŠ åˆ°PATH
conda activate flash_dock

# æˆ–è€…ä½¿ç”¨å®Œæ•´è·¯å¾„
C:\ProgramData\Anaconda3\Scripts\activate.bat flash_dock
```

#### å®‰è£…ä¾èµ–åŒ…ï¼ˆåˆ†æ­¥è¿›è¡Œï¼‰

```bash
# 1. åŸºç¡€ä¾èµ–
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn streamlit pandas "numpy<2.0.0" pyyaml tqdm scikit-learn biopandas==0.4.1

# 2. RDKitï¼ˆå¦‚æœpipå®‰è£…å¤±è´¥ï¼Œä½¿ç”¨condaï¼‰
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn rdkit-pypi==2022.9.3
# æˆ–ä½¿ç”¨conda
conda install -c conda-forge rdkit -y

# 3. å¯è§†åŒ–å·¥å…·
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn py3dmol stmol streamlit-molstar streamlit-ketcher

# 4. PyTorchï¼ˆæ ¹æ®ç³»ç»Ÿé€‰æ‹©CPUæˆ–GPUç‰ˆæœ¬ï¼‰
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn torch

# 5. Uni-Molç›¸å…³
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn huggingface_hub
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn unimol_tools

# å¦‚æœunimol_toolså®‰è£…å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ä»æºç å®‰è£…
pip install git+https://github.com/dptech-corp/Uni-Core.git@stable
```

### æ–¹æ³•3ï¼šä½¿ç”¨requirements.txt

```bash
# æ¿€æ´»ç¯å¢ƒå
conda activate flash_dock

# å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç½‘ç»œè¿æ¥é—®é¢˜
å¦‚æœé‡åˆ°SSLè¯ä¹¦é”™è¯¯æˆ–ç½‘ç»œè¿æ¥é—®é¢˜ï¼š
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- å°è¯•ä½¿ç”¨ä»£ç†
- æˆ–è€…ä½¿ç”¨condaå®‰è£…éƒ¨åˆ†åŒ…ï¼ˆå¦‚RDKitï¼‰

### 2. æ¨¡å‹æ–‡ä»¶ä¸‹è½½
**é‡è¦**ï¼šéœ€è¦ä¸‹è½½æ¨¡å‹æ–‡ä»¶ `unimol_docking_v2_240517.pt` (464MB)
- ä¸‹è½½åœ°å€ï¼šhttps://www.dropbox.com/scl/fi/sfhrtx1tjprce18wbvmdr/unimol_docking_v2_240517.pt
- å­˜æ”¾ä½ç½®ï¼š`./others/Uni-Mol/unimol_docking_v2/unimol_docking_v2_240517.pt`

### 3. Javaç¯å¢ƒ
éœ€è¦å®‰è£…Java 17-23ç”¨äºP2Rankï¼ˆç³»ç»Ÿçº§åˆ«å®‰è£…ï¼‰

## âœ… éªŒè¯å®‰è£…

æ¿€æ´»ç¯å¢ƒåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š

```bash
python --version                    # åº”è¯¥æ˜¾ç¤º Python 3.8.20
python -c "import streamlit; print('Streamlit:', streamlit.__version__)"
python -c "import rdkit; print('RDKit:', rdkit.__version__)"
python -c "import torch; print('PyTorch:', torch.__version__)"
```

## ğŸš€ å¯åŠ¨åº”ç”¨

ä¾èµ–å®‰è£…å®Œæˆåï¼Œå¯åŠ¨åº”ç”¨ï¼š

```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate flash_dock

# å¯åŠ¨Streamlitåº”ç”¨
streamlit run FlashDock.py
```

## ğŸ“ ç¯å¢ƒç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒ
conda env list

# æ¿€æ´»ç¯å¢ƒ
conda activate flash_dock

# é€€å‡ºç¯å¢ƒ
conda deactivate

# åˆ é™¤ç¯å¢ƒï¼ˆå¦‚æœéœ€è¦ï¼‰
conda env remove -n flash_dock
```


